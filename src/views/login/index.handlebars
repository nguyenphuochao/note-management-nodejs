<form class="mt-5 login" action="/login" method="POST">
    <h2 class="text-center">Đăng nhập</h2>

    <div class="form-group">
        <label for="email">Email</label>
        <input type="text" class="form-control" id="email" placeholder="Vui lòng nhập email" name="email">
        <div class="invalid-feedback">
            Vui lòng nhập email
        </div>
    </div>

    <div class="form-group">
        <label for="password">Mật khẩu</label>
        <input type="password" class="form-control" id="password" placeholder="Vui lòng nhập mật khẩu" name="password">
        <div class="invalid-feedback">
            Vui lòng nhập password
        </div>
    </div>

    <div class="form-check">
        <input type="checkbox" class="form-check-input" id="password">
        <label class="form-check-label" for="show-password">Hiển thị mật khẩu</label>
    </div>

    <div class="mt-4">
        <button class="btn btn-primary">Đăng nhập</button>
        <div class="mt-3">
            <span>Bạn chưa có tài khoản</span>
            <a href="/register">Đăng kí tại đây</a>
        </div>
    </div>

</form>

<script>
    // Loaded DOM
    document.addEventListener("DOMContentLoaded", (event) => {
        // Update title
        document.title = "Đăng nhập"

        // click checkbox show password
        $('#password').change(function () {
            if ($(this).is(':checked')) {
                $('#password').attr('type', 'text')
            } else {
                $('#password').attr('type', 'password')
            }
        })

        // Login submit form
        $('.login').submit(function (e) {
            e.preventDefault();
            var emailInput = $('#email').val();
            var passwordInput = $('#password').val();

            // reset error
            $('#email').removeClass('is-invalid');
            $('#password').removeClass('is-invalid');

            let isSuccess = true;

            if (emailInput.trim() == '') {
                $('#email').addClass('is-invalid');
                isSuccess = false;
            }

            if (passwordInput.trim() == '') {
                $('#password').addClass('is-invalid');
                isSuccess = false;
            }

            if (isSuccess) {
                this.submit();
            }
        });
    });

</script>